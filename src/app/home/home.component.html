<mat-tab-group>
    <mat-tab label="Explore">
      <form class="search-form">
        <mat-form-field class="full-width">
          <mat-label>Search</mat-label>
          <input matInput placeholder="Ex. Pizza" name="searchkey" [(ngModel)]="searchkey" (blur)="get_restaurant_list()" >
        </mat-form-field>
      </form>
      <div class="notification">
        <ngb-alert *ngIf="searchfailMessage" type="warning" (close)="searchfailMessage = ''">{{ searchfailMessage }}</ngb-alert>
      </div>
      <div class="notification">
        <ngb-alert *ngIf="rateSuccessMessage" type="success" (close)="rateSuccessMessage = ''">{{ rateSuccessMessage }}</ngb-alert>
      </div>
     
      
        <mat-grid-list class="restaurant-list" cols="3" rowHeight="4:5">
          <mat-list-item *ngFor="let restaurant of restaurantList">
            <mat-grid-tile>
              <mat-card class="restaurant-card">
                  <mat-card-header>
                    <div mat-card-avatar class="restaurant-header-image"></div>
                    <mat-card-title>{{restaurant.name}}</mat-card-title>
                    <mat-card-subtitle>{{restaurant.category}}</mat-card-subtitle>
                  </mat-card-header>
                  <!-- <img mat-card-image src="https://material.angular.io/assets/img/examples/shiba2.jpg" alt="Photo of a Shiba Inu"> -->
                  <img mat-card-image [(src)]="restaurant.image_url" alt="Photo of restaurant">

                  <mat-card-content>
                    <p>
                      <ng-template #t let-fill="fill">
                        <span class="star" [class.full]="fill === 100">
                          <span class="half" [style.width.%]="fill">&hearts;</span>&hearts;
                        </span>
                      </ng-template>
                      
                      <ngb-rating [(rate)]="restaurant.ratings" [starTemplate]="t" [readonly]="true" [max]="5"></ngb-rating>
                    </p>
                    <p>
                      Address: {{restaurant.address}}, 
                      <br>
                       {{restaurant.phone}}
                    </p>
                  </mat-card-content>
                  <mat-card-actions>
                    <button mat-button color="accent"  (click)="openRateDialog(restaurant.restaurant_id, restaurant.name)">RATE</button>
                    <button mat-button (click)="navigateTo(restaurant.restaurant_id, restaurant.name)" >LEARN MORE</button>
                  </mat-card-actions>
                </mat-card>
          </mat-grid-tile>
         </mat-list-item>
        </mat-grid-list>
        
    </mat-tab>
    
    
    <mat-tab label="Profile"> 
        <form class="profile-form">
          <div class="notification">
            <ngb-alert *ngIf="successMessage" type="success" (close)="successMessage = ''">{{ successMessage }}</ngb-alert>
          </div>
          <div class="notification">
            <ngb-alert *ngIf="failMessage" type="warning" (close)="failMessage = ''">{{ failMessage }}</ngb-alert>
          </div>
          
            <mat-form-field class="full-width">
              <mat-label>User ID (disabled)</mat-label>
              <input matInput disabled [(ngModel)]="userID" name="userID">
            </mat-form-field>
          
            <table class="full-width" cellspacing="0"><tr>
              <td><mat-form-field class="full-width">
                <mat-label>First name</mat-label>
                <input matInput [(ngModel)]="firstName" name="firstName">
              </mat-form-field></td>
              <td><mat-form-field class="full-width">
                <mat-label>Last Name</mat-label>
                <input matInput [(ngModel)]="lastName" name="lastName">
              </mat-form-field></td>
            </tr></table>
          
            <p>
              <mat-form-field class="full-width">
                <mat-label>Email Address</mat-label>
                <textarea matInput disabled [(ngModel)]="email" name="email" placeholder="Ex. xxxx@gmail.com"></textarea>
              </mat-form-field>
            </p>


            <mat-form-field class="full-width">
                <mat-chip-list #chipList aria-label="Tag selection">
                <mat-chip *ngFor="let tag of tags" [selectable]="selectable"
                        [removable]="removable" (removed)="remove(tag)">
                    {{tag.name}}
                    <mat-icon matChipRemove *ngIf="removable">cancel</mat-icon>
                </mat-chip>
                <input placeholder="New tag..."
                        [matChipInputFor]="chipList"
                        [matChipInputSeparatorKeyCodes]="separatorKeysCodes"
                        [matChipInputAddOnBlur]="addOnBlur"
                        (matChipInputTokenEnd)="add($event)">
                </mat-chip-list>
            </mat-form-field>
            
          </form>
          <div class="profile-action">
            <button mat-raised-button color="primary" (click)="update_profile()">SAVE</button>
            <button mat-button (click)="openDialog()">Delete Account</button>
          </div>
          
    </mat-tab>
  </mat-tab-group>